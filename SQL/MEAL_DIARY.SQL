DROP INDEX PK_MEAL_DIARY;

/* 식단다이어리 */
DROP TABLE MEAL_DIARY 
	CASCADE CONSTRAINTS;

/* 식단다이어리 */
CREATE TABLE MEAL_DIARY (
	m_date CHAR(8 BYTE) NOT NULL, /* 날짜 */
	m_id VARCHAR2(20) NOT NULL /* 회원아이디 */
);

COMMENT ON TABLE MEAL_DIARY IS '식단다이어리';

COMMENT ON COLUMN MEAL_DIARY.m_date IS '날짜';

COMMENT ON COLUMN MEAL_DIARY.m_id IS '회원아이디';

CREATE UNIQUE INDEX PK_MEAL_DIARY
	ON MEAL_DIARY (
		m_date ASC,
		m_id ASC
	);

ALTER TABLE MEAL_DIARY
	ADD
		CONSTRAINT PK_MEAL_DIARY
		PRIMARY KEY (
			m_date,
			m_id
		);

ALTER TABLE MEAL_DIARY
	ADD
		CONSTRAINT FK_MEMBER_TO_MEAL_DIARY
		FOREIGN KEY (
			m_id
		)
		REFERENCES MEMBER (
			m_id
		)ON DELETE CASCADE;